<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>

    <style>
        textarea { 
            color: grey;
            resize: none;
        }

        #title {
            font-weight: bold; 
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div id="title">Risk of Rain 2 Save Editor</div>
    <div>Worked on this for a few hours... updates to come.<br>For now, this just unlocks everything. Paste in your save file, then submit and copy the new version back into the file.</div>
    <div>Credit for the unlocks here; <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=1704500228">https://steamcommunity.com/sharedfiles/filedetails/?id=1704500228</a></div>
    <br>
    <div id="content-area">
        <div><b>Old Save</b></div>
        <textarea id="old-save" rows="10" cols="50"></textarea>
        <button onclick="submit()">Submit</button>

        <div><b>New Save</b></div>
        <textarea id="new-save" rows="10" cols="50" readonly></textarea>
        <button onclick="clearText('new-save')">Clear</button>
        <button onclick="copy()">Copy</button>
    </div>

    <script>
        let x = $("#old-save");
        let y = $("#new-save")

        function submit() {
            let $xml = $($.parseXML(x.val()));

            $xml.find("achievementsList").text("AttackSpeed BurnToDeath CarryLunarItems ChargeTeleporterWhileNearDeath CommandoClearGameMonsoon CommandoKillOverloadingWorm CommandoNonLunarEndurance Complete20Stages Complete30StagesCareer CompleteMultiBossShrine CompletePrismaticTrial CompleteTeleporter CompleteTeleporterWithoutInjury CompleteThreeStages CompleteThreeStagesWithoutHealing CompleteUnknownEnding DefeatSuperRoboBallBoss Die5Times Discover10UniqueTier1 Discover5Equipment EngiArmy EngiKillBossQuick FailShrineChance FindDevilAltar FindTimedChest FindUniqueNewtStatues FreeMage HardEliteBossKill HardHitter HuntressClearGameMonsoon HuntressCollectCrowbars HuntressMaintainFullHealthOnFrozenWall KillBossQuantityInRun KillBossQuick KillElementalLemurians KillEliteMonster KillElitesMilestone KillGoldTitanInOneCycle KillTotalEnemies LoaderClearGameMonsoon LoaderSpeedRun LogCollector LoopOnce MageAirborneMultiKill MageClearGameMonsoon MageFastBoss MageMultiKill MajorMultikill MaxHealingShrine MercClearGameMonsoon MercCompleteTrialWithFullHealth MercDontTouchGround MoveSpeed MultiCombatShrine RepeatFirstTeleporter RepeatedlyDuplicateItems RescueTreebot StayAlive1 SuicideHermitCrabs ToolbotClearGameMonsoon ToolbotGuardTeleporter ToolbotKillImpBossWithBfg TotalDronesRepaired TotalMoneyCollected TreebotClearGameMonsoon TreebotDunkClayBoss TreebotLowHealthTeleporter UseThreePortals");

            $xml.find("discoveredPickups").text("ItemIndex.Syringe ItemIndex.Bear ItemIndex.Behemoth ItemIndex.Missile ItemIndex.ExplodeOnDeath ItemIndex.Dagger ItemIndex.Tooth ItemIndex.CritGlasses ItemIndex.Hoof ItemIndex.Feather ItemIndex.ChainLightning ItemIndex.Seed ItemIndex.Icicle ItemIndex.GhostOnKill ItemIndex.Mushroom ItemIndex.Crowbar ItemIndex.AttackSpeedOnCrit ItemIndex.BleedOnHit ItemIndex.SprintOutOfCombat ItemIndex.FallBoots ItemIndex.WardOnLevel ItemIndex.Phasing ItemIndex.HealOnCrit ItemIndex.HealWhileSafe ItemIndex.PersonalShield ItemIndex.EquipmentMagazine ItemIndex.NovaOnHeal ItemIndex.ShockNearby ItemIndex.Infusion ItemIndex.Clover ItemIndex.Medkit ItemIndex.Bandolier ItemIndex.BounceNearby ItemIndex.IgniteOnKill ItemIndex.StunChanceOnHit ItemIndex.Firework ItemIndex.LunarDagger ItemIndex.GoldOnHit ItemIndex.WarCryOnMultiKill ItemIndex.ShieldOnly ItemIndex.AlienHead ItemIndex.Talisman ItemIndex.Knurl ItemIndex.BeetleGland ItemIndex.SprintBonus ItemIndex.SecondarySkillMagazine ItemIndex.StickyBomb ItemIndex.TreasureCache ItemIndex.BossDamageBonus ItemIndex.SprintArmor ItemIndex.IceRing ItemIndex.FireRing ItemIndex.SlowOnHit ItemIndex.ExtraLife ItemIndex.UtilitySkillMagazine ItemIndex.HeadHunter ItemIndex.KillEliteFrenzy ItemIndex.RepeatHeal ItemIndex.AutoCastEquipment ItemIndex.IncreaseHealing ItemIndex.JumpBoost ItemIndex.ExecuteLowHealthElite ItemIndex.EnergizedOnEquipmentUse ItemIndex.BarrierOnOverHeal ItemIndex.TitanGoldDuringTP ItemIndex.SprintWisp ItemIndex.BarrierOnKill EquipmentIndex.CommandMissile EquipmentIndex.Fruit EquipmentIndex.Meteor EquipmentIndex.Blackhole EquipmentIndex.CritOnUse EquipmentIndex.DroneBackup EquipmentIndex.BFG EquipmentIndex.Jetpack EquipmentIndex.Lightning EquipmentIndex.GoldGat EquipmentIndex.PassiveHealing EquipmentIndex.BurnNearby EquipmentIndex.Scanner EquipmentIndex.CrippleWard EquipmentIndex.Gateway EquipmentIndex.Tonic EquipmentIndex.QuestVolatileBattery LunarCoin.Coin0");

            let unlocks = $xml.find("unlock");
            unlocks.each(function(){ $(this).remove(); });

            let stats = $xml.find("stats");
            stats.append("<unlock>Characters.Engineer</unlock><unlock>Characters.Huntress</unlock><unlock>Characters.Loader</unlock><unlock>Characters.Mage</unlock><unlock>Characters.Mercenary</unlock><unlock>Characters.Toolbot</unlock><unlock>Characters.Treebot</unlock><unlock>Items.AttackSpeedOnCrit</unlock><unlock>Items.AutoCastEquipment</unlock><unlock>Items.BFG</unlock><unlock>Items.Bear</unlock><unlock>Items.BossDamageBonus</unlock><unlock>Items.BounceNearby</unlock><unlock>Items.BurnNearby</unlock><unlock>Items.Cleanse</unlock><unlock>Items.Clover</unlock><unlock>Items.Crowbar</unlock><unlock>Items.DroneBackup</unlock><unlock>Items.ElementalRings</unlock><unlock>Items.EnergizedOnEquipmentUse</unlock><unlock>Items.EquipmentMagazine</unlock><unlock>Items.ExecuteLowHealthElite</unlock><unlock>Items.ExtraLife</unlock><unlock>Items.Firework</unlock><unlock>Items.Gateway</unlock><unlock>Items.GoldGat</unlock><unlock>Items.HealOnCrit</unlock><unlock>Items.Hoof</unlock><unlock>Items.IncreaseHealing</unlock><unlock>Items.Infusion</unlock><unlock>Items.JumpBoost</unlock><unlock>Items.KillEliteFrenzy</unlock><unlock>Items.Lightning</unlock><unlock>Items.LunarUtilityReplacement</unlock><unlock>Items.Medkit</unlock><unlock>Items.Meteor</unlock><unlock>Items.NovaOnHeal</unlock><unlock>Items.PassiveHealing</unlock><unlock>Items.RepeatHeal</unlock><unlock>Items.Scanner</unlock><unlock>Items.SecondarySkillMagazine</unlock><unlock>Items.ShockNearby</unlock><unlock>Items.Talisman</unlock><unlock>Items.Tonic</unlock><unlock>Items.TreasureCache</unlock><unlock>Items.WarCryOnMultiKill</unlock><unlock>Logs.BeetleBody.0</unlock><unlock>Logs.BeetleGuardBody.0</unlock><unlock>Logs.BeetleQueenBody.0</unlock><unlock>Logs.BellBody.0</unlock><unlock>Logs.BisonBody.0</unlock><unlock>Logs.ClayBody.0</unlock><unlock>Logs.ClayBossBody.0</unlock><unlock>Logs.ClayBruiserBody.0</unlock><unlock>Logs.ElectricWormBody.0</unlock><unlock>Logs.GolemBody.0</unlock><unlock>Logs.GravekeeperBody.0</unlock><unlock>Logs.GreaterWispBody.0</unlock><unlock>Logs.HermitCrabBody.0</unlock><unlock>Logs.ImpBody.0</unlock><unlock>Logs.ImpBossBody.0</unlock><unlock>Logs.JellyfishBody.0</unlock><unlock>Logs.LemurianBody.0</unlock><unlock>Logs.LemurianBruiserBody.0</unlock><unlock>Logs.MagmaWormBody.0</unlock><unlock>Logs.RoboBallBossBody.0</unlock><unlock>Logs.RoboBallMiniBody.0</unlock><unlock>Logs.SuperRoboBallBossBody.0</unlock><unlock>Logs.TitanBody.0</unlock><unlock>Logs.TitanGoldBody.0</unlock><unlock>Logs.VagrantBody.0</unlock><unlock>Logs.VultureBody.0</unlock><unlock>Logs.WispBody.0</unlock><unlock>Logs.Stages.bazaar</unlock><unlock>Logs.Stages.blackbeach</unlock><unlock>Logs.Stages.dampcavesimple</unlock><unlock>Logs.Stages.foggyswamp</unlock><unlock>Logs.Stages.frozenwall</unlock><unlock>Logs.Stages.goldshores</unlock><unlock>Logs.Stages.golemplains</unlock><unlock>Logs.Stages.goolake</unlock><unlock>Logs.Stages.mysteryspace</unlock><unlock>Logs.Stages.shipgraveyard</unlock><unlock>Logs.Stages.wispgraveyard</unlock><unlock>Skills.Commando.FireShotgunBlast</unlock><unlock>Skills.Commando.ThrowGrenade</unlock><unlock>Skills.Engi.SpiderMine</unlock><unlock>Skills.Engi.WalkerTurret</unlock><unlock>Skills.Huntress.MiniBlink</unlock><unlock>Skills.Huntress.Snipe</unlock><unlock>Skills.Loader.YankHook</unlock><unlock>Skills.Mage.FlyUp</unlock><unlock>Skills.Mage.IceBomb</unlock><unlock>Skills.Mage.LightningBolt</unlock><unlock>Skills.Merc.EvisProjectile</unlock><unlock>Skills.Merc.Uppercut</unlock><unlock>Skills.Toolbot.Buzzsaw</unlock><unlock>Skills.Toolbot.Grenade</unlock><unlock>Skills.Treebot.Barrage</unlock><unlock>Skins.Commando.Alt1</unlock><unlock>Skins.Huntress.Alt1</unlock><unlock>Skins.Loader.Alt1</unlock><unlock>Skins.Mage.Alt1</unlock><unlock>Skins.Merc.Alt1</unlock><unlock>Skins.Toolbot.Alt1</unlock><unlock>Skins.Treebot.Alt1</unlock>");

            y.val(new XMLSerializer().serializeToString($xml[0]));
        }

        function copy() {
            y.select();
        }    

        function clearText(id) {
            $("#"+id).val("");
        }
    </script>
</body>
</html> 
